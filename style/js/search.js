function getHotkeyword(o){$.ajax({type:"GET",url:"https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su",async:!0,data:{wd:o},dataType:"jsonp",jsonp:"cb",success:function(o){if($("#box ul").text(""),hotList=o.s.length){$("#box").css("display","block");for(var t=0;hotList>t;t++)$("#box ul").append("<li><span>"+(t+1)+"</span>"+o.s[t]+"</li>"),$("#box ul li").eq(t).click(function(){$("#txt").val(this.childNodes[1].nodeValue),window.open(thisSearch+this.childNodes[1].nodeValue),$("#box").css("display","none")}),0===t?($("#box ul li").eq(t).css({"border-top":"none"}),$("#box ul span").eq(t).css({color:"#fff",background:"#f54545"})):1===t?$("#box ul span").eq(t).css({color:"#fff",background:"#ff8547"}):2===t&&$("#box ul span").eq(t).css({color:"#fff",background:"#ffac38"})}else $("#box").css("display","none")},error:function(o){console.log(o)}})}function populateSearchEngines(o,t){t.forEach(t=>{let c=`<li><i style="background: url(${t.background}) no-repeat center/cover;"></i><span>${t.name}</span></li>`;$(o).append(c)}),$(`${o} li`).click(function(){let o=$(this).index(),c=$(this).children().attr("class"),e=$(this).children().attr("style");$("#search-icon").attr({class:c,style:e}),thisSearch=t[o].url,$(".search-engine").hide(),storage.searchEngine=[thisSearch,c,e]})}$(function(){populateSearchEngines(".search-engine-list",[{name:"必应",background:"https://byxiaorun.com/style/img/bing.com.ico",url:"https://www4.bing.com/search?q="},{name:"微信",background:"https://res.wx.qq.com/a/wx_fed/assets/res/OTE0YTAw.png",url:"https://weixin.sogou.com/weixinwap?type=2&query="},{name:"国搜",background:"https://m.chinaso.com/favicon.ico",url:"https://www.chinaso.com/newssearch/all/allResults?q="},{name:"头条",background:"https://android-artworks.25pp.com/fs08/2022/10/12/9/123_66b43e9e4c4373641743602c1c890dd6_con_130x130.png",url:"https://so.toutiao.com/search?keyword="},{name:"Meta",background:"https://byxiaorun.com/style/img/metaso.cn.ico",url:"https://metaso.cn/?q="},{name:"Ecosia",background:"https://byxiaorun.com/style/img/ecosia.org.ico",url:"https://www.ecosia.org/search?q="},{name:"Qwant",background:"https://byxiaorun.com/style/img/qwant.com.ico",url:"https://www.qwant.com/?q="},{name:"谷歌",background:"https://byxiaorun.com/style/img/www.google.com.ico",url:"https://www.google.com/search?q="},{name:"Ask",background:"https://byxiaorun.com/style/img/www.ask.com.ico",url:"https://www.ask.com/web?q="},{name:"duckgo",background:"https://byxiaorun.com/style/img/duckduckgo.com.ico",url:"https://duckduckgo.com/?q="},{name:"百度",background:"https://www.baidu.com/img/baidu_85beaf5496f291521eb75ba38eacbd87.svg",url:"https://www.baidu.com/s?tn=baidubig5&wd="},{name:"四搜",background:"https://byxiaorun.com/style/img/gobaidugle.com.ico",url:"https://www.gobaidugle.com/search4?num=&one=bing&two=toutiao&three=sogou&four=so&keyword="}]),populateSearchEngines(".search-engine-list2",[{name:"知乎",background:"https://byxiaorun.com/style/img/zhihu.com.ico",url:"https://www.zhihu.com/search?type=content&q="},{name:"本地宝",background:"https://byxiaorun.com/style/img/bendibao.com.ico",url:"http://zhannei.baidu.com/cse/site?cc=bendibao.com&srt=lds&q="},{name:"简书",background:"https://cambrian-images.cdn.bcebos.com/33a4057673374d6ad1bbc9811310770d_1559717439091.jpeg",url:"https://www.jianshu.com/search?q="},{name:"张大妈",background:"https://search.smzdm.com/favicon.ico",url:"https://search.m.smzdm.com/?s="},{name:"小红书",background:"https://pp.myapp.com/ma_icon/0/icon_10868231_1605598327/96",url:"http://zhannei.baidu.com/cse/site?cc=xiaohongshu.com&srt=lds&q="},{name:"微博",background:"https://weibo.cn/favicon.ico",url:"https://s.weibo.com/weibo/"},{name:"汽车",background:"https://byxiaorun.com/style/img/m.autohome.com.cn.ico",url:"https://sou.m.autohome.com.cn/zonghe?q="},{name:"中医药",background:"https://byxiaorun.com/style/img/dayi.org.cn.ico",url:"https://m.dayi.org.cn/search?keyword="},{name:"医百科",background:"https://www.wiki8.cn/favicon.ico",url:"https://www.wiki8.cn/search?q="},{name:"GitHub",background:"https://s.cn.bing.net/th?id=OJ.b4JIBX4qc40CKw&pid=MsnJVFeeds&w=41&h=41",url:"https://github.com/search?utf8=✓&q="},{name:"OS",background:"https://byxiaorun.com/style/img/www.oschina.net.ico",url:"https://www.oschina.net/search?q="}]),populateSearchEngines(".search-engine-list3",[{name:"吾爱",background:"https://www.52pojie.cn/favicon.ico",url:"http://zhannei.baidu.com/cse/site?cc=52pojie.cn&srt=lds&q="},{name:"卡饭",background:"https://byxiaorun.com/style/img/kafan.cn.ico",url:"https://www4.bing.com/search?q=site%3Abbs.kafan.cn+"},{name:"恩山",background:"https://byxiaorun.com/style/img/www.right.com.cn.ico",url:"https://www4.bing.com/search?q=site%3Aright.com.cn+"},{name:"贴吧",background:"https://android-artworks.25pp.com/fs08/2020/03/09/8/110_02646e724df1b9a04dca4c91f52b7e50_con_130x130.png",url:"http://tieba.baidu.com/f/search/res?ie=utf-8&qw="},{name:"NGA",background:"https://bbs.nga.cn/favicon.ico",url:"https://www4.bing.com/search?q=site%3Anga.cn+"},{name:"V2ex",background:"https://byxiaorun.com/style/img/v2ex.com.ico",url:"https://www.sov2ex.com/?q="},{name:"掘金",background:"https://byxiaorun.com/style/img/juejin.cn.ico",url:"https://juejin.im/search?query="},{name:"博客园",background:"https://byxiaorun.com/style/img/news.cnblogs.com.ico",url:"https://zzk.cnblogs.com/s/blogpost?w="},{name:"看雪",background:"https://byxiaorun.com/style/img/bbs.pediy.com.ico",url:"https://www4.bing.com/search?q=site%3Abbs.pediy.com+"},{name:"远景",background:"https://byxiaorun.com/style/img/www.pcbeta.com.ico",url:"https://www4.bing.com/search?q=site%3Abbs.pcbeta.com+"},{name:"赚吧",background:"https://byxiaorun.com/style/img/www.zuanke8.com.ico",url:"https://s.ip21.cn/zuanke8/?q="}]),populateSearchEngines(".search-engine-list4",[{name:"美食",background:"https://byxiaorun.com/style/img/meishichina.com.ico",url:"https://home.meishichina.com/search/"},{name:"马蜂窝",background:"https://images.mafengwo.net/mobile/images/mfw-logo-new.png",url:"https://m.mafengwo.cn/mmobile/search/?keyword="},{name:"药品",background:"https://byxiaorun.com/style/img/drugs.dxy.cn.ico",url:"https://drugs.dxy.cn/search/drug?keyword="},{name:"翻译",background:"https://byxiaorun.com/style/img/bing.com.ico",url:"https://cn.bing.com/translator/?to=zh-Hans&text="},{name:"百科",background:"https://www.baidu.com/img/baidu_85beaf5496f291521eb75ba38eacbd87.svg",url:"https://baike.baidu.com/search/none?word="},{name:"B站",background:"https://byxiaorun.com/style/img/bilibili.com.ico",url:"http://search.bilibili.com/all?keyword="},{name:"抖音",background:"https://lf1-cdn-tos.bytegoofy.com/goofy/ies/douyin/search/public/favicon.ico",url:"https://www.douyin.com/search/"},{name:"参数",background:"https://www.zol.com.cn/favicon.ico",url:"https://detail.zol.com.cn/index.php?c=SearchList&keyword="},{name:"豌豆荚",background:"https://img.ucdl.pp.uc.cn/upload_files/wdj_web/public/img/favicon.ico",url:"https://m.wandoujia.com/search?key="},{name:"高德",background:"https://m.amap.com/img/favicon.ico",url:"https://ditu.amap.com/search?query="},{name:"Gov",background:"https://byxiaorun.com/style/img/gov.cn.ico",url:"http://zhannei.baidu.com/cse/site?cc=gov.cn&srt=lds&q="},{name:"天眼查",background:"https://byxiaorun.com/style/img/tianyancha.com.ico",url:"https://www.tianyancha.com/search?key="}]),populateSearchEngines(".search-engine-list5",[{name:"茶杯狐",background:"https://p.qlogo.cn/zc_icon/0/a48ed4731ef857ef4570b4af6ac8c5f216233263757814/0.png",url:"https://cupfox.app/search?key="},{name:"解析",background:"https://byxiaorun.com/style/img/www.youtube.com.ico",url:"https://www.mtosz.com/m3u8.php?url="},{name:"解析2",background:"https://byxiaorun.com/style/img/www.youtube.com.ico",url:"https://okjx.cc/?url="},{name:"解析3",background:"https://byxiaorun.com/style/img/www.youtube.com.ico",url:"https://jx.aidouer.net/?url="},{name:"解析4",background:"https://byxiaorun.com/style/img/www.youtube.com.ico",url:"https://jx.ppflv.com/?url="},{name:"解析5",background:"https://byxiaorun.com/style/img/www.youtube.com.ico",url:"https://jx.bozrc.com:4433/player/?url="},{name:"解析6",background:"https://byxiaorun.com/style/img/www.youtube.com.ico",url:"https://api.okjx.cc:3389/jx.php?url="},{name:"解析7",background:"https://byxiaorun.com/style/img/www.youtube.com.ico",url:"https://www.administratorw.com/video.php?url="}])}),$(function(){let o=window.localStorage;thisSearch="https://quark.sm.cn/s?q=",thisSearchIcon="./logo.jpg",o.searchEngine&&([thisSearch,iconClass,iconStyle]=o.searchEngine.split(","),$("#search-icon").attr({class:iconClass,style:iconStyle})),$("#txt").keyup(function(t){if($(this).val()){if([38,40].includes(t.keyCode)||"true"!==o.stopHot)return;$("#search-clear").show(),getHotkeyword($(this).val())}else $("#search-clear").hide(),$("#box").hide()}),$("#txt").keydown(function(o){[40,38,13].includes(o.keyCode)&&(o.preventDefault(),function(o){if(40===o)listIndex=(listIndex+1)%hotList;else if(38===o)listIndex=0===listIndex?hotList-1:listIndex-1;else if(13===o)return window.open(thisSearch+$("#txt").val()),$("#box").hide(),$("#txt").blur(),void(listIndex=-1);let t=$("#box ul li").eq(listIndex);t.addClass("current").siblings().removeClass("current"),$("#txt").val(t.text().slice(1))}(o.keyCode))}),$("#search-clear").click(function(){$("#txt").val(""),$(this).hide(),$("#box").hide()}),$("#txt").focus(function(){$(".search-box").css({"box-shadow":"0 4px 6px #0000001f",border:"1px solid #cecece"}),$(this).val()&&"true"===o.stopHot&&getHotkeyword($(this).val())}),$("#txt").blur(function(){$(".search-box").css({"box-shadow":"0 2px 3px #0000000f",border:"1px solid #00000026"}),setTimeout(()=>{$("#box").hide()},400)}),$(".box ul").on("click","li",function(){let o=$(this).text().slice(1);window.open(thisSearch+o)}),$("#search-icon, .search-engine").hover(function(){$(".search-engine").show()},function(){$(".search-engine").hide()}),$("#hot-btn").on("click",function(){let t="true"!==o.stopHot;$(this).attr("class",`iconfont icon-kaiguanguan-${t?"kai":"guan"}`),o.stopHot=t,console.log(o.stopHot),t?$("#box").hide():$("#txt").val()&&getHotkeyword($("#txt").val())})});